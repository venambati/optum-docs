{"map":{"version":3,"sources":["1606726a-94e1da6665b32d995c31.js"],"names":["window","push","V2qZ","module","__webpack_exports__","__webpack_require__","r","d","Decoration","DecorationSet","EditorView","endComposition","parseFromClipboard","serializeForClipboard","prosemirror_state__WEBPACK_IMPORTED_MODULE_0__","prosemirror_model__WEBPACK_IMPORTED_MODULE_1__","prosemirror_transform__WEBPACK_IMPORTED_MODULE_2__","result","navigator","document","ie_edge","exec","userAgent","ie_upto10","test","ie_11up","mac","platform","ie","ie_version","documentMode","gecko","gecko_version","chrome","chrome_version","safari","vendor","ios","maxTouchPoints","android","webkit","documentElement","style","webkit_version","domIndex","node","index","previousSibling","parentNode","parent","nodeType","host","reusedRange","textRange","from","to","range","createRange","setEnd","nodeValue","length","setStart","isEquivalentPosition","off","targetNode","targetOff","scanFor","atomElements","dir","nodeSize","hasBlockDesc","nodeName","contentEditable","childNodes","dom","desc","cur","pmViewDesc","isBlock","contentDOM","selectionCollapsed","domSel","collapsed","isCollapsed","rangeCount","getRangeAt","keyEvent","keyCode","key","event","createEvent","initEvent","code","windowRect","doc","left","right","clientWidth","top","bottom","clientHeight","getSide","value","side","clientRect","rect","getBoundingClientRect","scrollRectIntoView","view","startDOM","scrollThreshold","someProp","scrollMargin","ownerDocument","atTop","body","bounding","moveX","moveY","defaultView","scrollBy","startX","scrollLeft","startY","scrollTop","dX","dY","scrollStack","stack","restoreScrollStack","dTop","i","ref","preventScrollSupported","findOffsetInNode","coords","closest","coordsClosest","dxClosest","offset","rowBot","rowTop","child","firstChild","childIndex","nextSibling","rects","getClientRects","Math","max","min","dx","len","singleRect","inRect","findOffsetInText","posAtCoords","assign","assign$1","root","caretPositionFromPoint","pos$1","offsetNode","_","caretRangeFromPoint","startContainer","startOffset","pos","elt","elementFromPoint","contains","box","element","startI","floor","j","draggable","targetKludge","box$1","next","lastChild","state","content","size","outside","docView","nearestDesc","posBefore","posAfter","posFromDOM","posFromCaret","bias","posFromElement","inside","posAtStart","border","object","BIDI","coordsAtPos","domFromPos","supportEmptyRange","takeSide","flattenV","rectBefore","rectAfter","resolve","inlineContent","before","flattenH","after","before$1","target","after$1","target$1","width","x","height","y","withFlushedState","f","viewState","active","activeElement","updateState","focus","maybeRTL","cachedState","cachedDir","cachedResult","endOfTextblock","sel","selection","$pos","$from","$to","nearest","boxes","endOfTextblockVertical","$head","isTextblock","parentOffset","atStart","atEnd","getSelection","textContent","modify","oldRange","oldNode","focusNode","oldOff","focusOffset","oldBidiLevel","caretBidiLevel","depth","domAfterPos","removeAllRanges","addRange","endOfTextblockHorizontal","ViewDesc","children","this","dirty","prototypeAccessors","beforePosition","configurable","posAtEnd","contentLost","domAtom","prototype","matchesWidget","matchesMark","matchesNode","matchesHack","get","parseRule","stopEvent","destroy","posBeforeChild","localPosFromDOM","domBefore","domAfter","desc$1","compareDocumentPosition","search","search$1","onlyNodes","first","getDesc","nodeDOM","scan","descAt","end","Error","parseRange","base","fromOffset","toOffset","childBase","prev","emptyChildAt","j$1","RangeError","setSelection","anchor","head","force","anchorDOM","headDOM","brKludge","offset$1","anchorNode","anchorOffset","domSelExtended","extend","collapse","err","DOMException","tmp","ignoreMutation","mutation","type","markDirty","startInside","endInside","markParentsDirty","level","Object","defineProperties","nothing","WidgetViewDesc","widget","self","toDOM","spec","raw","wrap","createElement","appendChild","classList","add","call","__proto__","create","constructor","prototypeAccessors$1","eq","ignore","stop","ignoreSelection","CompositionViewDesc","textDOM","text","prototypeAccessors$2","mut","oldValue","MarkViewDesc","mark","inline","custom","nodeViews","name","renderSpec","attrs","contentElement","slice","copy","nodes","replaceNodes","NodeViewDesc","outerDeco","innerDeco","isLeaf","updateChildren","prototypeAccessors$3","descObj","isText","createTextNode","hasAttribute","applyOuterDeco","CustomNodeViewDesc","TextViewDesc","this$1","reparseInView","rule","preserveWhitespace","getContent","empty","sameOuterDeco","composition","composing","localCompositionNode","updater","ViewTreeUpdater","deco","onWidget","onNode","locals","childCount","forChild","decoIndex","restNode","parentIndex","widgets","sort","compareSide","i$1","child$1","i$2","splice","cutAt","i$3","cut","isInline","filter","iterDeco","insideNode","marks","syncToMarks","none","placeWidget","findNodeMatch","updateNextNode","addNode","addTextblockHacks","destroyRest","changed","protectLocalComposition","renderDescs","parentDOM","descs","written","childDOM","rm","insertBefore","trackWrites","oldCSS","cssText","getComputedStyle","listStyle","iosHacks","textNode","nearbyTextNode","textPos","frag","childStart","str","found","lastIndexOf","findTextInFragment","topNode","removeChild","compositionNodes","update","sameMarkup","updateInner","updateOuterDeco","needsWrap","oldDOM","patchOuterDeco","computeOuterDeco","selectNode","deselectNode","remove","removeAttribute","isAtom","docViewDesc","prototypeAccessors$4","skip","pmIsDeco","inParent","n","BRHackViewDesc","apply","arguments","prototypeAccessors$5","OuterDecoLevel","noDeco","val","class","outerDOM","prevComputed","curComputed","curDOM","tagName","toLowerCase","patchAttributes","name$1","setAttribute","prevList","split","curList","indexOf","m","prop","removeProperty","a","b","lockedNode","lock","pre","reverse","preMatch","preMatched","preMatchOffset","replacement","start","selectionFromDOM","origin","inWidget","$anchor","isSelectable","isOnEdge","selectionBetween","selectionToDOM","syncNodeSelection","editable","hasFocus","hasSelection","domObserver","disconnectSelection","cursorWrapper","img","visible","disabled","selectCursorWrapper","resetEditableFrom","resetEditableTo","brokenSelectBetweenUneditable","temporarilyEditableNear","resetEditable","removeEventListener","hideSelectionGuard","addEventListener","removeClassOnSelectionChange","setCurSelection","connectSelection","getPreMatch","destroyBetween","keep","maxKeep","spanning","pop","markDesc","undefined","e","nextDOM","setEditable","wasDraggable","lastSelectedViewDesc","clearNodeSelection","between","moveSelectionBlock","$side","$start","findFrom","dispatch","tr","scrollIntoView","selectHorizontally","mods","next$1","textOffset","nodeBefore","nodeAfter","nodePos","nodeLen","isIgnorable","skipIgnoredNodesLeft","moveNode","moveOffset","isBlockNode","setSelFocus","skipIgnoredNodesRight","setTimeout","selectVertically","beyond","stopNativeHorizontalDelete","sameParent","nextNode","delete","switchEditable","captureKeyDown","ctrlKey","metaKey","altKey","shiftKey","getMods","safariDownArrowBug","ruleFromNode","getAttribute","readDOMChange","typeOver","addedNodes","lastSelectionTime","Date","now","lastSelectionOrigin","newSel","tr$1","setMeta","$before","shared","sharedDepth","parse","from_","to_","find","lastKeyCode","startDoc","parser","fromSchema","schema","topMatch","contentMatchAt","topOpen","editableContent","findPositions","context","anchor$1","parseBetween","preferredPos","preferredSide","compare","lastKeyCodeTime","change","findDiffStart","findDiffEnd","endA","endB","adjust","findDiff","lastIOSEnter","some","sel$1","resolveSelection","domChangeCount","textBetween","nextSel","resolveNoCache","inlineChange","old","$newStart","$newEnd","skipClosingAndOpening","$next","looksLikeJoin","suppressSelectionUpdates","storedMarks","markChange","$from1","chFrom","chTo","marksAcross","curMarks","prevMarks","added","removed","removeFromSet","addToSet","updated","isMarkChange","addMark","removeMark","text$1","insertText","replace","sel$2","mapping","map","ensureMarks","parsedSel","fromEnd","mayOpen","indexAfter","maybeChild","openStart","openEnd","defaultAttrs","serializer","detachedDoc","serializeFragment","wrapMap","wrapper","JSON","stringify","html","plainText","$context","inCode","asText","parsed","trim","forEach","block","metas","firstTag","join","innerHTML","readHTML","contextNode","querySelector","sliceData","parseSlice","array","hasRequiredAttrs","addContext","closeRange","closeSlice","maxOpen","fragment","loop","match","lastWrap","inLast","findWrapping","addToSibling","sibling","inner","replaceChild","matchType","append","withWrappers","closeRight","fill","fillBefore","wrapped","v","returned","normalizeSiblings","thead","tbody","tfoot","caption","colgroup","col","td","th","_detachedDoc","implementation","createHTMLDocument","observeOptions","childList","characterData","characterDataOldValue","attributes","attributeOldValue","subtree","useCharData","SelectionState","set","DOMObserver","handleDOMChange","queue","flushingSoon","observer","MutationObserver","mutations","removedNodes","flushSoon","flush","currentSelection","onCharData","prevValue","onSelectionChange","bind","suppressingSelectionUpdates","forceFlush","clearTimeout","observe","take","takeRecords","disconnect","ignoreSelectionChange","container","commonAncestorContainer","concat","result$1","registerMutation","brs","cssChecked","whiteSpace","console","checkCSS","attributeName","Array","handlers","editHandlers","setSelectionOrigin","ensureListeners","currentHandlers","eventHandlers","runCustomHandler","handler","defaultPrevented","eventCoords","clientX","clientY","runHandlerOnContext","propName","updateSelection","focused","handleSingleClick","selectedNode","selectAt","selectClickedNode","selectClickedLeaf","handleDoubleClick","handleTripleClick","defaultTripleClick","forceDOMFlush","keydown","inOrNearComposition","preventDefault","lastIOSEnterFallbackTimeout","keyup","keypress","charCode","String","fromCharCode","selectNodeModifier","mousedown","flushed","lastClick","time","click","dy","isNear","mouseDown","MouseDown","targetPos","allowDefault","nodeAt","mightDrag","targetDesc","selectable","addAttr","setUneditable","up","move","abs","timeStamp","compositionEndedAt","done","near","touchdown","contextmenu","timeoutComposition","scheduleComposeEnd","delay","composingTimeout","clearComposition","forceUpdate","compositionstart","compositionupdate","inclusive","markCursor","compositionend","brokenClipboardAPI","doPaste","singleNode","sliceSingleNode","replaceSelectionWith","replaceSelection","data","clipboardData","clearData","setData","selectNodeContents","blur","captureCopy","deleteSelection","paste","getData","capturePaste","Dragging","dragCopyModifier","dragstart","dataTransfer","dragging","dragend","dragover","dragenter","drop","eventPos","$mouse","insertPos","isNode","beforeInsert","replaceRangeWith","replaceRange","maps","_from","_to","_newFrom","newTo","beforeinput","inputType","$cursor","compareObjs","p","p$1","WidgetType","noSpec","span","oldOffset","mapResult","deleted","valid","other","InlineType","inclusiveStart","inclusiveEnd","is","NodeType","findIndex","local","decorations","buildTree","predicate","findInner","childOff","options","mapInner","newLocal","mapped","onRemove","oldChildren","shift","oldStart","oldEnd","newStart","newEnd","dSize","mustRebuild","fromLocal","toLocal","childOffset","childNode","built","gather","mapAndGatherRemainingDecorations","from$1","byPos","mapChildren","addInner","baseOffset","takeSpansForNode","moveSpans","withoutNulls","removeInner","span$1","dec","localSet","DecorationGroup","removeOverlap","localsInner","members","spans","hasNulls","localStart","working","insertAhead","viewDecorations","sorted","place","props","_props","_root","mount","mounted","getEditable","updateCursorWrapper","buildNodeViews","computeDocDeco","bubbles","eventBelongsToView","initInput","pluginViews","updatePluginViews","contenteditable","attr","obj","hasOwnProperty","handleDOMEvents","updateStateInner","setProps","plugins","reconfigured","redraw","updateSel","nA","nB","changedNodeViews","scroll","scrollToSelection","updateDoc","sel1","sel2","refDOM","refTop","newRefTop","oldScrollPos","overflowAnchor","innerHeight","localRect","storeScrollPos","forceSelUpdate","chromeKludge","destroyPluginViews","prevState","pluginView","plugin","prop$1","setActive","stored","preventScroll","focusPreventScroll","cached","getPrototypeOf","domAtPos","posAtDOM","destroyInput","dispatchEvent","dispatchTransaction"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{V2qZ:function(e,t,o){\"use strict\";o.r(t),o.d(t,\"Decoration\",(function(){return Ct})),o.d(t,\"DecorationSet\",(function(){return Tt})),o.d(t,\"EditorView\",(function(){return It})),o.d(t,\"__endComposition\",(function(){return mt})),o.d(t,\"__parseFromClipboard\",(function(){return Ie})),o.d(t,\"__serializeForClipboard\",(function(){return Le}));var n=o(\"UxO+\"),r=o(\"MEpN\"),i=o(\"CsC6\"),s={};if(\"undefined\"!=typeof navigator&&\"undefined\"!=typeof document){var a=/Edge\\/(\\d+)/.exec(navigator.userAgent),c=/MSIE \\d/.test(navigator.userAgent),l=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var d=s.ie=!!(c||l||a);s.ie_version=c?document.documentMode||6:l?+l[1]:a?+a[1]:null,s.gecko=!d&&/gecko\\/(\\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\\/(\\d+)/.exec(navigator.userAgent)||[0,0])[1];var f=!d&&/Chrome\\/(\\d+)/.exec(navigator.userAgent);s.chrome=!!f,s.chrome_version=f&&+f[1],s.safari=!d&&/Apple Computer/.test(navigator.vendor),s.ios=s.safari&&(/Mobile\\/\\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),s.android=/Android \\d/.test(navigator.userAgent),s.webkit=\"webkitFontSmoothing\"in document.documentElement.style,s.webkit_version=s.webkit&&+(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent)||[0,0])[1]}var h=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},u=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},p=null,m=function(e,t,o){var n=p||(p=document.createRange());return n.setEnd(e,null==o?e.nodeValue.length:o),n.setStart(e,t||0),n},v=function(e,t,o,n){return o&&(y(e,t,o,n,-1)||y(e,t,o,n,1))},g=/^(img|br|input|textarea|hr)$/i;function y(e,t,o,n,r){for(;;){if(e==o&&t==n)return!0;if(t==(r<0?0:b(e))){var i=e.parentNode;if(1!=i.nodeType||w(e)||g.test(e.nodeName)||\"false\"==e.contentEditable)return!1;t=h(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if(\"false\"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function w(e){for(var t,o=e;o&&!(t=o.pmViewDesc);o=o.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var S=function(e){var t=e.isCollapsed;return t&&s.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function O(e,t){var o=document.createEvent(\"Event\");return o.initEvent(\"keydown\",!0,!0),o.keyCode=e,o.key=o.code=t,o}function D(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function N(e,t){return\"number\"==typeof e?e:e[t]}function C(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function M(e,t,o){for(var n=e.someProp(\"scrollThreshold\")||0,r=e.someProp(\"scrollMargin\")||5,i=e.dom.ownerDocument,s=o||e.dom;s;s=u(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,c=a?D(i):C(s),l=0,d=0;if(t.top<c.top+N(n,\"top\")?d=-(c.top-t.top+N(r,\"top\")):t.bottom>c.bottom-N(n,\"bottom\")&&(d=t.bottom-c.bottom+N(r,\"bottom\")),t.left<c.left+N(n,\"left\")?l=-(c.left-t.left+N(r,\"left\")):t.right>c.right-N(n,\"right\")&&(l=t.right-c.right+N(r,\"right\")),l||d)if(a)i.defaultView.scrollBy(l,d);else{var f=s.scrollLeft,h=s.scrollTop;d&&(s.scrollTop+=d),l&&(s.scrollLeft+=l);var p=s.scrollLeft-f,m=s.scrollTop-h;t={left:t.left-p,top:t.top-m,right:t.right-p,bottom:t.bottom-m}}if(a)break}}function x(e){for(var t=[],o=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=o);e=u(e));return t}function k(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=n.dom,i=n.top,s=n.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}var T=null;function A(e,t){for(var o,n,r=2e8,i=0,s=t.top,a=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var d=void 0;if(1==c.nodeType)d=c.getClientRects();else{if(3!=c.nodeType)continue;d=m(c).getClientRects()}for(var f=0;f<d.length;f++){var h=d[f];if(h.top<=s&&h.bottom>=a){s=Math.max(h.bottom,s),a=Math.min(h.top,a);var u=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(u<r){o=c,r=u,n=u&&3==o.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==c.nodeType&&u&&(i=l+(t.left>=(h.left+h.right)/2?1:0));continue}}!o&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(i=l+1)}}return o&&3==o.nodeType?function(e,t){for(var o=e.nodeValue.length,n=document.createRange(),r=0;r<o;r++){n.setEnd(e,r+1),n.setStart(e,r);var i=V(n,1);if(i.top!=i.bottom&&P(t,i))return{node:e,offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(o,n):!o||r&&1==o.nodeType?{node:e,offset:i}:A(o,n)}function P(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function E(e,t){var o,n,r,i,a=e.root;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(t.left,t.top);c&&(r=(o=c).offsetNode,i=o.offset)}catch(v){}if(!r&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(r=(n=l).startContainer,i=n.startOffset)}var d,f=a.elementFromPoint(t.left,t.top+1);if(!f||!e.dom.contains(1!=f.nodeType?f.parentNode:f)){var h=e.dom.getBoundingClientRect();if(!P(t,h))return null;if(!(f=function e(t,o,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(o.top-n.top)/(n.bottom-n.top))-2)),s=i;;){var a=t.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),l=0;l<c.length;l++){var d=c[l];if(P(o,d))return e(a,o,d)}if((s=(s+1)%r)==i)break}return t}(e.dom,t,h)))return null}if(s.safari&&f.draggable&&(r=i=null),f=function(e,t){var o=e.parentNode;return o&&/^li$/i.test(o.nodeName)&&t.left<e.getBoundingClientRect().left?o:e}(f,t),r){if(s.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var u,p=r.childNodes[i];\"IMG\"==p.nodeName&&(u=p.getBoundingClientRect()).right<=t.left&&u.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?d=e.state.doc.content.size:0!=i&&1==r.nodeType&&\"BR\"==r.childNodes[i-1].nodeName||(d=function(e,t,o,n){for(var r=-1,i=t;i!=e.dom;){var s=e.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>n.left||a.top>n.top)r=s.posBefore;else{if(!(a.right<n.left||a.bottom<n.top))break;r=s.posAfter}}i=s.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,o)}(e,r,i,t))}null==d&&(d=function(e,t,o){var n=A(t,o),r=n.node,i=n.offset,s=-1;if(1==r.nodeType&&!r.firstChild){var a=r.getBoundingClientRect();s=a.left!=a.right&&o.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}(e,f,t));var m=e.docView.nearestDesc(f,!0);return{pos:d,inside:m?m.posAtStart-m.border:-1}}function V(e,t){var o=e.getClientRects();return o.length?o[t<0?0:o.length-1]:e.getBoundingClientRect()}var R=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;function B(e,t,o){var n=e.docView.domFromPos(t,o<0?-1:1),r=n.node,i=n.offset,a=s.webkit||s.gecko;if(3==r.nodeType){if(!a||!R.test(r.nodeValue)&&(o<0?i:i!=r.nodeValue.length)){var c=i,l=i,d=o<0?1:-1;return o<0&&!i?(l++,d=-1):o>=0&&i==r.nodeValue.length?(c--,d=1):o<0?c--:l++,z(V(m(r,c,l),d),d<0)}var f=V(m(r,i,i),o);if(s.gecko&&i&&/\\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var h=V(m(r,i-1,i-1),-1);if(h.top==f.top){var u=V(m(r,i,i+1),-1);if(u.top!=f.top)return z(u,u.left<h.left)}}return f}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(o<0||i==b(r))){var p=r.childNodes[i-1];if(1==p.nodeType)return _(p.getBoundingClientRect(),!1)}if(i<b(r)){var v=r.childNodes[i];if(1==v.nodeType)return _(v.getBoundingClientRect(),!0)}return _(r.getBoundingClientRect(),o>=0)}if(i&&(o<0||i==b(r))){var g=r.childNodes[i-1],y=3==g.nodeType?m(g,b(g)-(a?0:1)):1!=g.nodeType||\"BR\"==g.nodeName&&g.nextSibling?null:g;if(y)return z(V(y,1),!1)}if(i<b(r)){var w=r.childNodes[i],S=3==w.nodeType?m(w,0,a?0:1):1==w.nodeType?w:null;if(S)return z(V(S,-1),!0)}return z(V(3==r.nodeType?m(r):r,-o),o>=0)}function z(e,t){if(0==e.width)return e;var o=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:o,right:o}}function _(e,t){if(0==e.height)return e;var o=t?e.top:e.bottom;return{top:o,bottom:o,left:e.left,right:e.right}}function F(e,t,o){var n=e.state,r=e.root.activeElement;n!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return o()}finally{n!=t&&e.updateState(n),r!=e.dom&&r&&r.focus()}}var L=/[\\u0590-\\u08ac]/;var I=null,K=null,q=!1;function $(e,t,o){return I==t&&K==o?q:(I=t,K=o,q=\"up\"==o||\"down\"==o?function(e,t,o){var n=t.selection,r=\"up\"==o?n.$from:n.$to;return F(e,t,(function(){for(var t=e.docView.domFromPos(r.pos,\"up\"==o?-1:1).node;;){var n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}for(var i=B(e,r.pos,1),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=m(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var l=a[c];if(l.bottom>l.top&&(\"up\"==o?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(e,t,o):function(e,t,o){var n=t.selection.$head;if(!n.parent.isTextblock)return!1;var r=n.parentOffset,i=!r,s=r==n.parent.content.size,a=getSelection();return L.test(n.parent.textContent)&&a.modify?F(e,t,(function(){var t=a.getRangeAt(0),r=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify(\"move\",o,\"character\");var c=!(n.depth?e.docView.domAfterPos(n.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||r==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),c})):\"left\"==o||\"backward\"==o?i:s}(e,t,o))}var W=function(e,t,o,n){this.parent=e,this.children=t,this.dom=o,o.pmViewDesc=this,this.contentDOM=n,this.dirty=0},j={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};W.prototype.matchesWidget=function(){return!1},W.prototype.matchesMark=function(){return!1},W.prototype.matchesNode=function(){return!1},W.prototype.matchesHack=function(){return!1},j.beforePosition.get=function(){return!1},W.prototype.parseRule=function(){return null},W.prototype.stopEvent=function(){return!1},j.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},j.border.get=function(){return 0},W.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},W.prototype.posBeforeChild=function(e){for(var t=0,o=this.posAtStart;t<this.children.length;t++){var n=this.children[t];if(n==e)return o;o+=n.size}},j.posBefore.get=function(){return this.parent.posBeforeChild(this)},j.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},j.posAfter.get=function(){return this.posBefore+this.size},j.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},W.prototype.localPosFromDOM=function(e,t,o){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(o<0){var n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}var i,s;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==a?o>0:a)?this.posAtEnd:this.posAtStart},W.prototype.nearestDesc=function(e,t){for(var o=!0,n=e;n;n=n.parentNode){var r=this.getDesc(n);if(r&&(!t||r.node)){if(!o||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;o=!1}}},W.prototype.getDesc=function(e){for(var t=e.pmViewDesc,o=t;o;o=o.parent)if(o==this)return t},W.prototype.posFromDOM=function(e,t,o){for(var n=e;n;n=n.parentNode){var r=this.getDesc(n);if(r)return r.localPosFromDOM(e,t,o)}return-1},W.prototype.descAt=function(e){for(var t=0,o=0;t<this.children.length;t++){var n=this.children[t],r=o+n.size;if(o==e&&r!=o){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(e<r)return n.descAt(e-o-n.border);o=r}},W.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var o=0,n=0,r=!0;;n++,r=!1){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)o+=this.children[n++].size;var i=n==this.children.length?null:this.children[n];if(o==e&&(0==t||!i||!i.size||i.border||t<0&&r)||i&&i.domAtom&&e<o+i.size)return{node:this.contentDOM,offset:i?h(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error(\"Invalid position \"+e);var s=o+i.size;if(!i.domAtom&&(t<0&&!i.border?s>=e:s>e))return i.domFromPos(e-o-i.border,t);o=s}},W.prototype.parseRange=function(e,t,o){if(void 0===o&&(o=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var n=-1,r=-1,i=o,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==n&&e<=c){var l=i+a.border;if(e>=l&&t<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,l);e=i;for(var d=s;d>0;d--){var f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){n=h(f.dom)+1;break}e-=f.size}-1==n&&(n=0)}if(n>-1&&(c>t||s==this.children.length-1)){t=c;for(var u=s+1;u<this.children.length;u++){var p=this.children[u];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=h(p.dom);break}t+=p.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:n,toOffset:r}},W.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},W.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),o=t.node,n=t.offset;if(1!=o.nodeType||n==o.childNodes.length)throw new RangeError(\"No node after pos \"+e);return o.childNodes[n]},W.prototype.setSelection=function(e,t,o,n){for(var r=Math.min(e,t),i=Math.max(e,t),a=0,c=0;a<this.children.length;a++){var l=this.children[a],d=c+l.size;if(r>c&&i<d)return l.setSelection(e-c-l.border,t-c-l.border,o,n);c=d}var f=this.domFromPos(e,e?-1:1),u=t==e?f:this.domFromPos(t,t?-1:1),p=o.getSelection(),m=!1;if((s.gecko||s.safari)&&e==t){var g=f.node,y=f.offset;if(3==g.nodeType)(m=y&&\"\\n\"==g.nodeValue[y-1])&&y==g.nodeValue.length&&g.nextSibling&&\"BR\"==g.nextSibling.nodeName&&(f=u={node:g.parentNode,offset:h(g)+1});else{var b=g.childNodes[y-1];m=b&&(\"BR\"==b.nodeName||\"false\"==b.contentEditable)}}if(n||m&&s.safari||!v(f.node,f.offset,p.anchorNode,p.anchorOffset)||!v(u.node,u.offset,p.focusNode,p.focusOffset)){var w=!1;if((p.extend||e==t)&&!m){p.collapse(f.node,f.offset);try{e!=t&&p.extend(u.node,u.offset),w=!0}catch(D){if(!(D instanceof DOMException))throw D}}if(!w){if(e>t){var S=f;f=u,u=S}var O=document.createRange();O.setEnd(u.node,u.offset),O.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(O)}}},W.prototype.ignoreMutation=function(e){return!this.contentDOM&&\"selection\"!=e.type},j.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},W.prototype.markDirty=function(e,t){for(var o=0,n=0;n<this.children.length;n++){var r=this.children[n],i=o+r.size;if(o==i?e<=i&&t>=o:e<i&&t>o){var s=o+r.border,a=i-r.border;if(e>=s&&t<=a)return this.dirty=e==o||t==i?2:1,void(e!=s||t!=a||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-s,t-s):r.dirty=3);r.dirty=3}o=i}this.dirty=2},W.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var o=1==e?2:1;t.dirty<o&&(t.dirty=o)}},j.domAtom.get=function(){return!1},Object.defineProperties(W.prototype,j);var H=[],U=function(e){function t(t,o,n,r){var i,s=o.type.toDOM;if(\"function\"==typeof s&&(s=s(n,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!o.type.spec.raw){if(1!=s.nodeType){var a=document.createElement(\"span\");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add(\"ProseMirror-widget\")}e.call(this,t,H,s,null),this.widget=o,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return o.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return\"selection\"!=e.type||this.widget.spec.ignoreSelection},o.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,o),t}(W),G=function(e){function t(t,o,n,r){e.call(this,t,H,o,null),this.textDOM=n,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={size:{configurable:!0}};return o.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return\"characterData\"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,o),t}(W),J=function(e){function t(t,o,n,r){e.call(this,t,[],n,r),this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,o,n,i){var s=i.nodeViews[o.type.name],a=s&&s(o,i,n);return a&&a.dom||(a=r.DOMSerializer.renderSpec(document,o.type.spec.toDOM(o,n))),new t(e,o,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,o){if(e.prototype.markDirty.call(this,t,o),0!=this.dirty){for(var n=this.parent;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,o,n){var r=t.create(this.parent,this.mark,!0,n),i=this.children,s=this.size;o<s&&(i=fe(i,o,s,n)),e>0&&(i=fe(i,0,e,n));for(var a=0;a<i.length;a++)i[a].parent=r;return r.children=i,r},t}(W),X=function(e){function t(t,o,n,r,i,s,a,c,l){e.call(this,t,o.isLeaf?H:[],i,s),this.nodeDOM=a,this.node=o,this.outerDeco=n,this.innerDeco=r,s&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,o,n,i,s,a){var c,l,d=s.nodeViews[o.type.name],f=d&&d(o,s,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),n),h=f&&f.dom,u=f&&f.contentDOM;if(o.isText)if(h){if(3!=h.nodeType)throw new RangeError(\"Text must be rendered as a DOM text node\")}else h=document.createTextNode(o.text);else h||(h=(c=r.DOMSerializer.renderSpec(document,o.type.spec.toDOM(o))).dom,u=c.contentDOM);u||o.isText||\"BR\"==h.nodeName||(h.hasAttribute(\"contenteditable\")||(h.contentEditable=!1),o.type.spec.draggable&&(h.draggable=!0));var p=h;return h=se(h,n,o),f?l=new ee(e,o,n,i,h,u,p,f,s,a+1):o.isText?new Z(e,o,n,i,h,p,s):new t(e,o,n,i,h,u,p,s,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace=\"full\"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?r.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,o){return 0==this.dirty&&e.eq(this.node)&&ae(t,this.outerDeco)&&o.eq(this.innerDeco)},o.size.get=function(){return this.node.nodeSize},o.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var o=this,n=this.node.inlineContent,i=t,a=n&&e.composing&&this.localCompositionNode(e,t),c=new le(this,a&&a.node);!function(e,t,o,n){var r=t.locals(e),i=0;if(0==r.length){for(var s=0;s<e.childCount;s++){var a=e.child(s);n(a,r,t.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,l=[],d=null,f=0;;){if(c<r.length&&r[c].to==i){for(var h=r[c++],u=void 0;c<r.length&&r[c].to==i;)(u||(u=[h])).push(r[c++]);if(u){u.sort(de);for(var p=0;p<u.length;p++)o(u[p],f,!!d)}else o(h,f,!!d)}var m=void 0,v=void 0;if(d)v=-1,m=d,d=null;else{if(!(f<e.childCount))break;v=f,m=e.child(f++)}for(var g=0;g<l.length;g++)l[g].to<=i&&l.splice(g--,1);for(;c<r.length&&r[c].from<=i&&r[c].to>i;)l.push(r[c++]);var y=i+m.nodeSize;if(m.isText){var b=y;c<r.length&&r[c].from<b&&(b=r[c].from);for(var w=0;w<l.length;w++)l[w].to<b&&(b=l[w].to);b<y&&(d=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1)}var S=l.length?m.isInline&&!m.isLeaf?l.filter((function(e){return!e.inline})):l.slice():H;n(m,S,t.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(t,s,a){t.spec.marks?c.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!a&&c.syncToMarks(s==o.node.childCount?r.Mark.none:o.node.child(s).marks,n,e),c.placeWidget(t,e,i)}),(function(t,o,r,s){c.syncToMarks(t.marks,n,e),c.findNodeMatch(t,o,r,s)||c.updateNextNode(t,o,r,e,s)||c.addNode(t,o,r,e,i),i+=t.nodeSize})),c.syncToMarks(H,n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),function e(t,o,n){for(var r=t.firstChild,i=!1,s=0;s<o.length;s++){var a=o[s],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=ce(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(a instanceof J){var l=r?r.previousSibling:t.lastChild;e(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=ce(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}(this.contentDOM,this.children,e),s.ios&&function(e){if(\"UL\"==e.nodeName||\"OL\"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+\"; list-style: square !important\",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var o=e.state.selection,r=o.from,i=o.to;if(!(!(e.state.selection instanceof n.TextSelection)||r<t||i>t+this.node.content.size)){var s=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=b(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(a&&this.dom.contains(a.parentNode)){var c=a.nodeValue,l=function(e,t,o,n){for(var r=0,i=0;r<e.childCount&&i<=n;){var s=e.child(r++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;r<e.childCount;){var l=e.child(r++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=o){var d=c.lastIndexOf(t,n-a);if(d>=0&&d+t.length+a>=o)return a+d}}}return-1}(this.node.content,c,r-t,i-t);return l<0?null:{node:a,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var o=t.node,n=t.pos,r=t.text;if(!this.getDesc(o)){for(var i=o;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new G(this,i,o,r);e.compositionNodes.push(s),this.children=fe(this.children,n,n+r.length,e,s)}},t.prototype.update=function(e,t,o,n){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,o,n),!0)},t.prototype.updateInner=function(e,t,o,n){this.updateOuterDeco(t),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ae(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,o=this.dom;this.dom=re(this.dom,this.nodeDOM,ne(this.outerDeco,this.node,t),ne(e,this.node,t)),this.dom!=o&&(o.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add(\"ProseMirror-selectednode\"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove(\"ProseMirror-selectednode\"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute(\"draggable\")},o.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,o),t}(W);function Y(e,t,o,n,r){return se(n,t,e),new X(null,e,t,o,n,n,n,r,0)}var Z=function(e){function t(t,o,n,r,i,s,a){e.call(this,t,o,n,r,i,null,s,a)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,o,n){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,o,n){return t==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,o,n)},t.prototype.ignoreMutation=function(e){return\"characterData\"!=e.type&&\"selection\"!=e.type},t.prototype.slice=function(e,o,n){var r=this.node.cut(e,o),i=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)},o.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,o),t}(X),Q=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},o.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,o),t}(W),ee=function(e){function t(t,o,n,r,i,s,a,c,l,d){e.call(this,t,o,n,r,i,s,a,l,d),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,o,n,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,o);return i&&this.updateInner(t,o,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,o,n,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,o,n,r){this.spec.setSelection?this.spec.setSelection(t,o,n):e.prototype.setSelection.call(this,t,o,n,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(X);function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var oe=[new te];function ne(e,t,o){if(0==e.length)return oe;for(var n=o?oe[0]:new te,r=[n],i=0;i<e.length;i++){var s=e[i].type.attrs;if(s)for(var a in s.nodeName&&r.push(n=new te(s.nodeName)),s){var c=s[a];null!=c&&(o&&1==r.length&&r.push(n=new te(t.isInline?\"span\":\"div\")),\"class\"==a?n.class=(n.class?n.class+\" \":\"\")+c:\"style\"==a?n.style=(n.style?n.style+\";\":\"\")+c:\"nodeName\"!=a&&(n[a]=c))}}return r}function re(e,t,o,n){if(o==oe&&n==oe)return t;for(var r=t,i=0;i<n.length;i++){var s=n[i],a=o[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(r),a=oe[0]),r=c}ie(r,a||oe[0],s)}return r}function ie(e,t,o){for(var n in t)\"class\"==n||\"style\"==n||\"nodeName\"==n||n in o||e.removeAttribute(n);for(var r in o)\"class\"!=r&&\"style\"!=r&&\"nodeName\"!=r&&o[r]!=t[r]&&e.setAttribute(r,o[r]);if(t.class!=o.class){for(var i=t.class?t.class.split(\" \"):H,s=o.class?o.class.split(\" \"):H,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&e.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&e.classList.add(s[c])}if(t.style!=o.style){if(t.style)for(var l,d=/\\s*([\\w\\-\\xa1-\\uffff]+)\\s*:(?:\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|\\(.*?\\)|[^;])*/g;l=d.exec(t.style);)e.style.removeProperty(l[1]);o.style&&(e.style.cssText+=o.style)}}function se(e,t,o){return re(e,e,oe,ne(t,o,1!=e.nodeType))}function ae(e,t){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!e[o].type.eq(t[o].type))return!1;return!0}function ce(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var le=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var o=function(e,t){for(var o=[],n=e.childCount,r=t.length-1;n>0&&r>=0;r--){var i=t[r],s=i.node;if(s){if(s!=e.child(n-1))break;o.push(i),--n}}return{nodes:o.reverse(),offset:n}}(e.node.content,e.children);this.preMatched=o.nodes,this.preMatchOffset=o.offset};function de(e,t){return e.type.side-t.type.side}function fe(e,t,o,n,r){for(var i=[],s=0,a=0;s<e.length;s++){var c=e[s],l=a,d=a+=c.size;l>=o||d<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,n)),r&&(i.push(r),r=null),d>o&&i.push(c.slice(o-l,c.size,n)))}return i}function he(e,t){var o=e.root.getSelection(),r=e.state.doc;if(!o.focusNode)return null;var i=e.docView.nearestDesc(o.focusNode),s=i&&0==i.size,a=e.docView.posFromDOM(o.focusNode,o.focusOffset);if(a<0)return null;var c,l,d=r.resolve(a);if(S(o)){for(c=d;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&n.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,o){for(var n=0==t,r=t==b(e);n||r;){if(e==o)return!0;var i=h(e);if(!(e=e.parentNode))return!1;n=n&&0==i,r=r&&i==b(e)}}(o.focusNode,o.focusOffset,i.dom))){var f=i.posBefore;l=new n.NodeSelection(a==f?d:r.resolve(f))}}else{var u=e.docView.posFromDOM(o.anchorNode,o.anchorOffset);if(u<0)return null;c=r.resolve(u)}l||(l=we(e,c,d,\"pointer\"==t||e.state.selection.head<d.pos&&!s?1:-1));return l}function ue(e,t){var o=e.state.selection;if(ye(e,o),e.editable?e.hasFocus():Se(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),o=document.createRange(),n=e.cursorWrapper.dom,r=\"IMG\"==n.nodeName;r?o.setEnd(n.parentNode,h(n)+1):o.setEnd(n,0);o.collapse(!1),t.removeAllRanges(),t.addRange(o),!r&&!e.state.selection.visible&&s.ie&&s.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{var r,i,a=o.anchor,c=o.head;!pe||o instanceof n.TextSelection||(o.$from.parent.inlineContent||(r=me(e,o.from)),o.empty||o.$from.parent.inlineContent||(i=me(e,o.to))),e.docView.setSelection(a,c,e.root,t),pe&&(r&&ge(r),i&&ge(i)),o.visible?e.dom.classList.remove(\"ProseMirror-hideselection\"):(e.dom.classList.add(\"ProseMirror-hideselection\"),\"onselectionchange\"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener(\"selectionchange\",e.hideSelectionGuard);var o=e.root.getSelection(),n=o.anchorNode,r=o.anchorOffset;t.addEventListener(\"selectionchange\",e.hideSelectionGuard=function(){o.anchorNode==n&&o.anchorOffset==r||(t.removeEventListener(\"selectionchange\",e.hideSelectionGuard),e.dom.classList.remove(\"ProseMirror-hideselection\"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}le.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},le.prototype.destroyBetween=function(e,t){if(e!=t){for(var o=e;o<t;o++)this.top.children[o].destroy();this.top.children.splice(e,t-e),this.changed=!0}},le.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},le.prototype.syncToMarks=function(e,t,o){for(var n=0,r=this.stack.length>>1,i=Math.min(r,e.length);n<i&&(n==r-1?this.top:this.stack[n+1<<1]).matchesMark(e[n])&&!1!==e[n].type.spec.spanning;)n++;for(;n<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[r])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=J.create(this.top,e[r],t,o);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},le.prototype.findNodeMatch=function(e,t,o,n){var r=-1,i=n<0?void 0:this.getPreMatch(n),s=this.top.children;if(i&&i.matchesNode(e,t,o))r=s.indexOf(i);else for(var a=this.index,c=Math.min(s.length,a+5);a<c;a++){var l=s[a];if(l.matchesNode(e,t,o)&&this.preMatched.indexOf(l)<0){r=a;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},le.prototype.updateNextNode=function(e,t,o,n,r){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof X){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=r)return!1;var c=s.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&ae(t,s.outerDeco)))&&s.update(e,t,o,n))return this.destroyBetween(this.index,i),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},le.prototype.addNode=function(e,t,o,n,r){this.top.children.splice(this.index++,0,X.create(this.top,e,t,o,n,r)),this.changed=!0},le.prototype.placeWidget=function(e,t,o){var n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(e)||e!=n.widget&&n.widget.type.toDOM.parentNode){var r=new U(this.top,e,t,o);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},le.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof J;)e=e.children[e.children.length-1];if(!e||!(e instanceof Z)||/\\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement(\"br\");this.top.children.splice(this.index++,0,new Q(this.top,H,t,null)),this.changed=!0}};var pe=s.safari||s.chrome&&s.chrome_version<63;function me(e,t){var o=e.docView.domFromPos(t,0),n=o.node,r=o.offset,i=r<n.childNodes.length?n.childNodes[r]:null,a=r?n.childNodes[r-1]:null;if(s.safari&&i&&\"false\"==i.contentEditable)return ve(i);if(!(i&&\"false\"!=i.contentEditable||a&&\"false\"!=a.contentEditable)){if(i)return ve(i);if(a)return ve(a)}}function ve(e){return e.contentEditable=\"true\",s.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ge(e){e.contentEditable=\"false\",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ye(e,t){if(t instanceof n.NodeSelection){var o=e.docView.descAt(t.from);o!=e.lastSelectedViewDesc&&(be(e),o&&o.selectNode(),e.lastSelectedViewDesc=o)}else be(e)}function be(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function we(e,t,o,r){return e.someProp(\"createSelectionBetween\",(function(n){return n(e,t,o)}))||n.TextSelection.between(t,o,r)}function Se(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(o){return!1}}function Oe(e,t){var o=e.selection,r=o.$anchor,i=o.$head,s=t>0?r.max(i):r.min(i),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&n.Selection.findFrom(a,t)}function De(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ne(e,t,o){var r=e.state.selection;if(!(r instanceof n.TextSelection)){if(r instanceof n.NodeSelection&&r.node.isInline)return De(e,new n.TextSelection(t>0?r.$to:r.$from));var i=Oe(e.state,t);return!!i&&De(e,i)}if(!r.empty||o.indexOf(\"s\")>-1)return!1;if(e.endOfTextblock(t>0?\"right\":\"left\")){var a=Oe(e.state,t);return!!(a&&a instanceof n.NodeSelection)&&De(e,a)}if(!(s.mac&&o.indexOf(\"m\")>-1)){var c,l=r.$head,d=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!d||d.isText)return!1;var f=t<0?l.pos-d.nodeSize:l.pos;return!!(d.isAtom||(c=e.docView.descAt(f))&&!c.contentDOM)&&(n.NodeSelection.isSelectable(d)?De(e,new n.NodeSelection(t<0?e.state.doc.resolve(l.pos-d.nodeSize):l)):!!s.webkit&&De(e,new n.TextSelection(e.state.doc.resolve(t<0?f:f+d.nodeSize))))}}function Ce(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Me(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||\"BR\"!=e.nodeName)}function xe(e){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o){var r,i,a=!1;for(s.gecko&&1==o.nodeType&&n<Ce(o)&&Me(o.childNodes[n])&&(a=!0);;)if(n>0){if(1!=o.nodeType)break;var c=o.childNodes[n-1];if(Me(c))r=o,i=--n;else{if(3!=c.nodeType)break;n=(o=c).nodeValue.length}}else{if(Te(o))break;for(var l=o.previousSibling;l&&Me(l);)r=o.parentNode,i=h(l),l=l.previousSibling;if(l)n=Ce(o=l);else{if((o=o.parentNode)==e.dom)break;n=0}}a?Ae(e,t,o,n):r&&Ae(e,t,r,i)}}function ke(e){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o){for(var r,i,s=Ce(o);;)if(n<s){if(1!=o.nodeType)break;if(!Me(o.childNodes[n]))break;r=o,i=++n}else{if(Te(o))break;for(var a=o.nextSibling;a&&Me(a);)r=a.parentNode,i=h(a)+1,a=a.nextSibling;if(a)n=0,s=Ce(o=a);else{if((o=o.parentNode)==e.dom)break;n=s=0}}r&&Ae(e,t,r,i)}}function Te(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ae(e,t,o,n){if(S(t)){var r=document.createRange();r.setEnd(o,n),r.setStart(o,n),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(o,n);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&ue(e)}),50)}function Pe(e,t,o){var r=e.state.selection;if(r instanceof n.TextSelection&&!r.empty||o.indexOf(\"s\")>-1)return!1;if(s.mac&&o.indexOf(\"m\")>-1)return!1;var i=r.$from,a=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?\"up\":\"down\")){var c=Oe(e.state,t);if(c&&c instanceof n.NodeSelection)return De(e,c)}if(!i.parent.inlineContent){var l=n.Selection.findFrom(t<0?i:a,t);return!l||De(e,l)}return!1}function Ee(e,t){if(!(e.state.selection instanceof n.TextSelection))return!0;var o=e.state.selection,r=o.$head,i=o.$anchor,s=o.empty;if(!r.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?\"forward\":\"backward\"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var c=e.state.tr;return t<0?c.delete(r.pos-a.nodeSize,r.pos):c.delete(r.pos,r.pos+a.nodeSize),e.dispatch(c),!0}return!1}function Ve(e,t,o){e.domObserver.stop(),t.contentEditable=o,e.domObserver.start()}function Re(e,t){var o=t.keyCode,n=function(e){var t=\"\";return e.ctrlKey&&(t+=\"c\"),e.metaKey&&(t+=\"m\"),e.altKey&&(t+=\"a\"),e.shiftKey&&(t+=\"s\"),t}(t);return 8==o||s.mac&&72==o&&\"c\"==n?Ee(e,-1)||xe(e):46==o||s.mac&&68==o&&\"c\"==n?Ee(e,1)||ke(e):13==o||27==o||(37==o?Ne(e,-1,n)||xe(e):39==o?Ne(e,1,n)||ke(e):38==o?Pe(e,-1,n)||xe(e):40==o?function(e){if(s.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o&&1==o.nodeType&&0==n&&o.firstChild&&\"false\"==o.firstChild.contentEditable){var r=o.firstChild;Ve(e,r,!0),setTimeout((function(){return Ve(e,r,!1)}),20)}}}(e)||Pe(e,1,n)||ke(e):n==(s.mac?\"m\":\"c\")&&(66==o||73==o||89==o||90==o))}function Be(e){var t=e.pmViewDesc;if(t)return t.parseRule();if(\"BR\"==e.nodeName&&e.parentNode){if(s.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var o=document.createElement(\"div\");return o.appendChild(document.createElement(\"li\")),{skip:o}}if(e.parentNode.lastChild==e||s.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(\"IMG\"==e.nodeName&&e.getAttribute(\"mark-placeholder\"))return{ignore:!0}}function ze(e,t,o,i,a){if(t<0){var c=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=he(e,c);if(l&&!e.state.selection.eq(l)){var d=e.state.tr.setSelection(l);\"pointer\"==c?d.setMeta(\"pointer\",!0):\"key\"==c&&d.scrollIntoView(),e.dispatch(d)}}else{var f=e.state.doc.resolve(t),h=f.sharedDepth(o);t=f.before(h+1),o=e.state.doc.resolve(o).after(h+1);var u=e.state.selection,p=function(e,t,o){var n=e.docView.parseRange(t,o),i=n.node,a=n.fromOffset,c=n.toOffset,l=n.from,d=n.to,f=e.root.getSelection(),h=null,u=f.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(h=[{node:u,offset:f.anchorOffset}],S(f)||h.push({node:f.focusNode,offset:f.focusOffset})),s.chrome&&8===e.lastKeyCode)for(var p=c;p>a;p--){var m=i.childNodes[p-1],v=m.pmViewDesc;if(\"BR\"==m.nodeType&&!v){c=p;break}if(!v||v.size)break}var g=e.state.doc,y=e.someProp(\"domParser\")||r.DOMParser.fromSchema(e.state.schema),b=g.resolve(l),w=null,O=y.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!b.parent.type.spec.code||\"full\",editableContent:!0,findPositions:h,ruleFromNode:Be,context:b});if(h&&null!=h[0].pos){var D=h[0].pos,N=h[1]&&h[1].pos;null==N&&(N=D),w={anchor:D+l,head:N+l}}return{doc:O,sel:w,from:l,to:d}}(e,t,o);if(s.chrome&&e.cursorWrapper&&p.sel&&p.sel.anchor==e.cursorWrapper.deco.from){var m=e.cursorWrapper.deco.type.toDOM.nextSibling,v=m&&m.nodeValue?m.nodeValue.length:1;p.sel={anchor:p.sel.anchor+v,head:p.sel.anchor+v}}var g,y,b=e.state.doc,w=b.slice(p.from,p.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(g=e.state.selection.to,y=\"end\"):(g=e.state.selection.from,y=\"start\"),e.lastKeyCode=null;var D=function(e,t,o,n,r){var i=e.findDiffStart(t,o);if(null==i)return null;var s=e.findDiffEnd(t,o+e.size,o+t.size),a=s.a,c=s.b;if(\"end\"==r){var l=Math.max(0,i-Math.min(a,c));n-=a+l-i}if(a<i&&e.size<t.size){c=(i-=n<=i&&n>=a?i-n:0)+(c-a),a=i}else if(c<i){a=(i-=n<=i&&n>=c?i-n:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(w.content,p.doc.content,p.from,g,y);if(!D){if(!(i&&u instanceof n.TextSelection&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||p.sel&&p.sel.anchor!=p.sel.head){if(s.ios&&e.lastIOSEnter>Date.now()-225&&a.some((function(e){return\"DIV\"==e.nodeName||\"P\"==e.nodeName}))&&e.someProp(\"handleKeyDown\",(function(t){return t(e,O(13,\"Enter\"))})))return void(e.lastIOSEnter=0);if(p.sel){var N=_e(e,e.state.doc,p.sel);N&&!N.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(N))}return}D={start:u.from,endA:u.to,endB:u.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&D.start==D.endB&&e.state.selection instanceof n.TextSelection&&(D.start>e.state.selection.from&&D.start<=e.state.selection.from+2?D.start=e.state.selection.from:D.endA<e.state.selection.to&&D.endA>=e.state.selection.to-2&&(D.endB+=e.state.selection.to-D.endA,D.endA=e.state.selection.to)),s.ie&&s.ie_version<=11&&D.endB==D.start+1&&D.endA==D.start&&D.start>p.from&&\" \"==p.doc.textBetween(D.start-p.from-1,D.start-p.from+1)&&(D.start--,D.endA--,D.endB--);var C,M=p.doc.resolveNoCache(D.start-p.from),x=p.doc.resolveNoCache(D.endB-p.from),k=M.sameParent(x)&&M.parent.inlineContent;if((s.ios&&e.lastIOSEnter>Date.now()-225&&(!k||a.some((function(e){return\"DIV\"==e.nodeName||\"P\"==e.nodeName})))||!k&&M.pos<p.doc.content.size&&(C=n.Selection.findFrom(p.doc.resolve(M.pos+1),1,!0))&&C.head==x.pos)&&e.someProp(\"handleKeyDown\",(function(t){return t(e,O(13,\"Enter\"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>D.start&&function(e,t,o,n,r){if(!n.parent.isTextblock||o-t<=r.pos-n.pos||Fe(n,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=e.resolve(Fe(i,!0,!0));if(!s.parent.isTextblock||s.pos>o||Fe(s,!0,!1)<o)return!1;return n.parent.content.cut(n.parentOffset).eq(s.parent.content)}(b,D.start,D.endA,M,x)&&e.someProp(\"handleKeyDown\",(function(t){return t(e,O(8,\"Backspace\"))})))s.android&&s.chrome&&e.domObserver.suppressSelectionUpdates();else{s.android&&!k&&M.start()!=x.start()&&0==x.parentOffset&&M.depth==x.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==D.endA&&(D.endB-=2,x=p.doc.resolveNoCache(D.endB-p.from),setTimeout((function(){e.someProp(\"handleKeyDown\",(function(t){return t(e,O(13,\"Enter\"))}))}),20));var T,A,P,E,V=D.start,R=D.endA;if(k)if(M.pos==x.pos)s.ie&&s.ie_version<=11&&0==M.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ue(e)}),20)),T=e.state.tr.delete(V,R),A=b.resolve(D.start).marksAcross(b.resolve(D.endA));else if(D.endA==D.endB&&(E=b.resolve(D.start))&&(P=function(e,t){for(var o,n,i,s=e.firstChild.marks,a=t.firstChild.marks,c=s,l=a,d=0;d<a.length;d++)c=a[d].removeFromSet(c);for(var f=0;f<s.length;f++)l=s[f].removeFromSet(l);if(1==c.length&&0==l.length)n=c[0],o=\"add\",i=function(e){return e.mark(n.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;n=l[0],o=\"remove\",i=function(e){return e.mark(n.removeFromSet(e.marks))}}for(var h=[],u=0;u<t.childCount;u++)h.push(i(t.child(u)));if(r.Fragment.from(h).eq(e))return{mark:n,type:o}}(M.parent.content.cut(M.parentOffset,x.parentOffset),E.parent.content.cut(E.parentOffset,D.endA-E.start()))))T=e.state.tr,\"add\"==P.type?T.addMark(V,R,P.mark):T.removeMark(V,R,P.mark);else if(M.parent.child(M.index()).isText&&M.index()==x.index()-(x.textOffset?0:1)){var B=M.parent.textBetween(M.parentOffset,x.parentOffset);if(e.someProp(\"handleTextInput\",(function(t){return t(e,V,R,B)})))return;T=e.state.tr.insertText(B,V,R)}if(T||(T=e.state.tr.replace(V,R,p.doc.slice(D.start-p.from,D.endB-p.from))),p.sel){var z=_e(e,T.doc,p.sel);z&&!(s.chrome&&s.android&&e.composing&&z.empty&&(z.head==V||z.head==T.mapping.map(R)-1)||s.ie&&z.empty&&z.head==V)&&T.setSelection(z)}A&&T.ensureMarks(A),e.dispatch(T.scrollIntoView())}}}function _e(e,t,o){return Math.max(o.anchor,o.head)>t.content.size?null:we(e,t.resolve(o.anchor),t.resolve(o.head))}function Fe(e,t,o){for(var n=e.depth,r=t?e.end():e.pos;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,r++,t=!1;if(o)for(var i=e.node(n).maybeChild(e.indexAfter(n));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function Le(e,t){for(var o=[],n=t.content,i=t.openStart,s=t.openEnd;i>1&&s>1&&1==n.childCount&&1==n.firstChild.childCount;){i--,s--;var a=n.firstChild;o.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),n=a.content}var c=e.someProp(\"clipboardSerializer\")||r.DOMSerializer.fromSchema(e.state.schema),l=je(),d=l.createElement(\"div\");d.appendChild(c.serializeFragment(n,{document:l}));for(var f,h=d.firstChild;h&&1==h.nodeType&&(f=$e[h.nodeName.toLowerCase()]);){for(var u=f.length-1;u>=0;u--){for(var p=l.createElement(f[u]);d.firstChild;)p.appendChild(d.firstChild);d.appendChild(p)}h=d.firstChild}return h&&1==h.nodeType&&h.setAttribute(\"data-pm-slice\",i+\" \"+s+\" \"+JSON.stringify(o)),{dom:d,text:e.someProp(\"clipboardTextSerializer\",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,\"\\n\\n\")}}function Ie(e,t,o,n,i){var s,a,c=i.parent.type.spec.code;if(!o&&!t)return null;var l=t&&(n||c||!o);if(l){if(e.someProp(\"transformPastedText\",(function(e){t=e(t,c||n)})),c)return new r.Slice(r.Fragment.from(e.state.schema.text(t)),0,0);var d=e.someProp(\"clipboardTextParser\",(function(e){return e(t,i,n)}));d?a=d:(s=document.createElement(\"div\"),t.trim().split(/(?:\\r\\n?|\\n)+/).forEach((function(e){s.appendChild(document.createElement(\"p\")).textContent=e})))}else e.someProp(\"transformPastedHTML\",(function(e){o=e(o)})),s=function(e){var t=/(\\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var o,n=je().createElement(\"div\"),r=/(?:<meta [^>]*>)*<([a-z][^>\\s]+)/i.exec(e),i=0;(o=r&&$e[r[1].toLowerCase()])&&(e=o.map((function(e){return\"<\"+e+\">\"})).join(\"\")+e+o.map((function(e){return\"</\"+e+\">\"})).reverse().join(\"\"),i=o.length);n.innerHTML=e;for(var s=0;s<i;s++)n=n.firstChild;return n}(o);var f=s&&s.querySelector(\"[data-pm-slice]\"),h=f&&/^(\\d+) (\\d+) (.*)/.exec(f.getAttribute(\"data-pm-slice\"));if(!a){var u=e.someProp(\"clipboardParser\")||e.someProp(\"domParser\")||r.DOMParser.fromSchema(e.state.schema);a=u.parseSlice(s,{preserveWhitespace:!(!l&&!h),context:i})}return a=h?function(e,t){if(!e.size)return e;var o,n=e.content.firstChild.type.schema;try{o=JSON.parse(t)}catch(d){return e}for(var i=e.content,s=e.openStart,a=e.openEnd,c=o.length-2;c>=0;c-=2){var l=n.nodes[o[c]];if(!l||l.hasRequiredAttrs())break;i=r.Fragment.from(l.create(o[c+1],i)),s++,a++}return new r.Slice(i,s,a)}(function(e,t,o){t<e.openStart&&(e=new r.Slice(qe(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));o<e.openEnd&&(e=new r.Slice(qe(e.content,1,o,e.openEnd,0,0),e.openStart,o));return e}(a,+h[1],+h[2]),h[3]):r.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var o=function(o){var n=t.node(o).contentMatchAt(t.index(o)),i=void 0,s=[];if(e.forEach((function(e){if(s){var t,o=n.findWrapping(e.type);if(!o)return s=null;if(t=s.length&&i.length&&function e(t,o,n,i,s){if(s<t.length&&s<o.length&&t[s]==o[s]){var a=e(t,o,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(r.Fragment.from(Ke(n,t,s+1))))}}(o,i,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=function e(t,o){if(0==o)return t;var n=t.content.replaceChild(t.childCount-1,e(t.lastChild,o-1)),i=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(n.append(i))}(s[s.length-1],i.length));var a=Ke(e,o);s.push(a),n=n.matchType(a.type,a.attrs),i=o}}})),s)return{v:r.Fragment.from(s)}},n=t.depth;n>=0;n--){var i=o(n);if(i)return i.v}return e}(a.content,i),!1),e.someProp(\"transformPasted\",(function(e){a=e(a)})),a}function Ke(e,t,o){void 0===o&&(o=0);for(var n=t.length-1;n>=o;n--)e=t[n].create(null,r.Fragment.from(e));return e}function qe(e,t,o,n,i,s){var a=t<0?e.firstChild:e.lastChild,c=a.content;return i<n-1&&(c=qe(c,t,o,n,i+1,s)),i>=o&&(c=t<0?a.contentMatchAt(0).fillBefore(c,e.childCount>1||s<=i).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(r.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(c))}var $e={thead:[\"table\"],tbody:[\"table\"],tfoot:[\"table\"],caption:[\"table\"],colgroup:[\"table\"],col:[\"table\",\"colgroup\"],tr:[\"table\",\"tbody\"],td:[\"table\",\"tbody\",\"tr\"],th:[\"table\",\"tbody\",\"tr\"]},We=null;function je(){return We||(We=document.implementation.createHTMLDocument(\"title\"))}var He={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ue=s.ie&&s.ie_version<=11,Ge=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ge.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ge.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Je=function(e,t){var o=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)o.queue.push(e[t]);s.ie&&s.ie_version<=11&&e.some((function(e){return\"childList\"==e.type&&e.removedNodes.length||\"characterData\"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?o.flushSoon():o.flush()})),this.currentSelection=new Ge,Ue&&(this.onCharData=function(e){o.queue.push({target:e.target,type:\"characterData\",oldValue:e.prevValue}),o.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Je.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Je.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Je.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,He),Ue&&this.view.dom.addEventListener(\"DOMCharacterDataModified\",this.onCharData),this.connectSelection()},Je.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var o=0;o<t.length;o++)this.queue.push(t[o]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ue&&this.view.dom.removeEventListener(\"DOMCharacterDataModified\",this.onCharData),this.disconnectSelection()},Je.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener(\"selectionchange\",this.onSelectionChange)},Je.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener(\"selectionchange\",this.onSelectionChange)},Je.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Je.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Se(e)){var e;if(this.suppressingSelectionUpdates)return ue(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&v(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Je.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Je.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,o=this.view.docView.nearestDesc(t);return o&&o.ignoreMutation({type:\"selection\",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Je.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Se(this.view)&&!this.ignoreSelectionChange(t),n=-1,r=-1,i=!1,a=[];if(this.view.editable)for(var c=0;c<e.length;c++){var l=this.registerMutation(e[c],a);l&&(n=n<0?l.from:Math.min(l.from,n),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(i=!0))}if(s.gecko&&a.length>1){var d=a.filter((function(e){return\"BR\"==e.nodeName}));if(2==d.length){var f=d[0],h=d[1];f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}}(n>-1||o)&&(n>-1&&(this.view.docView.markDirty(n,r),function(e){if(Xe)return;Xe=!0,\"normal\"==getComputedStyle(e.dom).whiteSpace&&console.warn(\"ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.\")}(this.view)),this.handleDOMChange(n,r,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||ue(this.view),this.currentSelection.set(t))}},Je.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var o=this.view.docView.nearestDesc(e.target);if(\"attributes\"==e.type&&(o==this.view.docView||\"contenteditable\"==e.attributeName||\"style\"==e.attributeName&&!e.oldValue&&!e.target.getAttribute(\"style\")))return null;if(!o||o.ignoreMutation(e))return null;if(\"childList\"==e.type){var n=e.previousSibling,r=e.nextSibling;if(s.ie&&s.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var a=e.addedNodes[i],c=a.previousSibling,l=a.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(n=c),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l)}for(var d=n&&n.parentNode==e.target?h(n)+1:0,f=o.localPosFromDOM(e.target,d,-1),u=r&&r.parentNode==e.target?h(r):e.target.childNodes.length,p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);return{from:f,to:o.localPosFromDOM(e.target,u,1)}}return\"attributes\"==e.type?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Xe=!1;var Ye={},Ze={};function Qe(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function et(e){e.someProp(\"handleDOMEvents\",(function(t){for(var o in t)e.eventHandlers[o]||e.dom.addEventListener(o,e.eventHandlers[o]=function(t){return tt(e,t)})}))}function tt(e,t){return e.someProp(\"handleDOMEvents\",(function(o){var n=o[t.type];return!!n&&(n(e,t)||t.defaultPrevented)}))}function ot(e){return{left:e.clientX,top:e.clientY}}function nt(e,t,o,n,r){if(-1==n)return!1;for(var i=e.state.doc.resolve(n),s=function(n){if(e.someProp(t,(function(t){return n>i.depth?t(e,o,i.nodeAfter,i.before(n),r,!0):t(e,o,i.node(n),i.before(n),r,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function rt(e,t,o){e.focused||e.focus();var n=e.state.tr.setSelection(t);\"pointer\"==o&&n.setMeta(\"pointer\",!0),e.dispatch(n)}function it(e,t,o,r,i){return nt(e,\"handleClickOn\",t,o,r)||e.someProp(\"handleClick\",(function(o){return o(e,t,r)}))||(i?function(e,t){if(-1==t)return!1;var o,r,i=e.state.selection;i instanceof n.NodeSelection&&(o=i.node);for(var s=e.state.doc.resolve(t),a=s.depth+1;a>0;a--){var c=a>s.depth?s.nodeAfter:s.node(a);if(n.NodeSelection.isSelectable(c)){r=o&&i.$from.depth>0&&a>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(a);break}}return null!=r&&(rt(e,n.NodeSelection.create(e.state.doc,r),\"pointer\"),!0)}(e,o):function(e,t){if(-1==t)return!1;var o=e.state.doc.resolve(t),r=o.nodeAfter;return!!(r&&r.isAtom&&n.NodeSelection.isSelectable(r))&&(rt(e,new n.NodeSelection(o),\"pointer\"),!0)}(e,o))}function st(e,t,o,n){return nt(e,\"handleDoubleClickOn\",t,o,n)||e.someProp(\"handleDoubleClick\",(function(o){return o(e,t,n)}))}function at(e,t,o,r){return nt(e,\"handleTripleClickOn\",t,o,r)||e.someProp(\"handleTripleClick\",(function(o){return o(e,t,r)}))||function(e,t){var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(rt(e,n.TextSelection.create(o,0,o.content.size),\"pointer\"),!0);for(var r=o.resolve(t),i=r.depth+1;i>0;i--){var s=i>r.depth?r.nodeAfter:r.node(i),a=r.before(i);if(s.inlineContent)rt(e,n.TextSelection.create(o,a+1,a+1+s.content.size),\"pointer\");else{if(!n.NodeSelection.isSelectable(s))continue;rt(e,n.NodeSelection.create(o,a),\"pointer\")}return!0}}(e,o)}function ct(e){return mt(e)}Ze.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ft(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!s.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp(\"handleKeyDown\",(function(o){return o(e,t)}))||Re(e,t)?t.preventDefault():Qe(e,\"key\");else{var o=Date.now();e.lastIOSEnter=o,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==o&&(e.someProp(\"handleKeyDown\",(function(t){return t(e,O(13,\"Enter\"))})),e.lastIOSEnter=0)}),200)}},Ze.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ze.keypress=function(e,t){if(!(ft(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||s.mac&&t.metaKey))if(e.someProp(\"handleKeyPress\",(function(o){return o(e,t)})))t.preventDefault();else{var o=e.state.selection;if(!(o instanceof n.TextSelection&&o.$from.sameParent(o.$to))){var r=String.fromCharCode(t.charCode);e.someProp(\"handleTextInput\",(function(t){return t(e,o.$from.pos,o.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var lt=s.mac?\"metaKey\":\"ctrlKey\";Ye.mousedown=function(e,t){e.shiftKey=t.shiftKey;var o=ct(e),n=Date.now(),r=\"singleClick\";n-e.lastClick.time<500&&function(e,t){var o=t.x-e.clientX,n=t.y-e.clientY;return o*o+n*n<100}(t,e.lastClick)&&!t[lt]&&(\"singleClick\"==e.lastClick.type?r=\"doubleClick\":\"doubleClick\"==e.lastClick.type&&(r=\"tripleClick\")),e.lastClick={time:n,x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(ot(t));i&&(\"singleClick\"==r?e.mouseDown=new dt(e,i,t,o):(\"doubleClick\"==r?st:at)(e,i.pos,i.inside,t)?t.preventDefault():Qe(e,\"pointer\"))};var dt=function(e,t,o,r){var i,a,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=o,this.flushed=r,this.selectNode=o[lt],this.allowDefault=o.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),a=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var d=r?null:o.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f?f.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof n.NodeSelection&&a==e.state.selection.from)&&(this.mightDrag={node:i,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute(\"contentEditable\")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute(\"contentEditable\",\"false\")}),20),this.view.domObserver.start()),e.root.addEventListener(\"mouseup\",this.up=this.up.bind(this)),e.root.addEventListener(\"mousemove\",this.move=this.move.bind(this)),Qe(e,\"pointer\")};function ft(e,t){return!!e.composing||!!(s.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}dt.prototype.done=function(){this.view.root.removeEventListener(\"mouseup\",this.up),this.view.root.removeEventListener(\"mousemove\",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute(\"draggable\"),this.mightDrag.setUneditable&&this.target.removeAttribute(\"contentEditable\"),this.view.domObserver.start()),this.view.mouseDown=null},dt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ot(e))),this.allowDefault||!t?Qe(this.view,\"pointer\"):it(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof n.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(rt(this.view,n.Selection.near(this.view.state.doc.resolve(t.pos)),\"pointer\"),e.preventDefault()):Qe(this.view,\"pointer\")}},dt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Qe(this.view,\"pointer\")},Ye.touchdown=function(e){ct(e),Qe(e,\"pointer\")},Ye.contextmenu=function(e){return ct(e)};var ht=s.android?5e3:-1;function ut(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return mt(e)}),t))}function pt(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function mt(e,t){if(e.domObserver.forceFlush(),pt(e),t||e.docView.dirty){var o=he(e);return o&&!o.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(o)):e.updateState(e.state),!0}return!1}Ze.compositionstart=Ze.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,o=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!o.textOffset&&o.parentOffset&&o.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||o.marks(),mt(e,!0),e.markCursor=null;else if(mt(e),s.gecko&&t.selection.empty&&o.parentOffset&&!o.textOffset&&o.nodeBefore.marks.length)for(var n=e.root.getSelection(),r=n.focusNode,i=n.focusOffset;r&&1==r.nodeType&&0!=i;){var a=i<0?r.lastChild:r.childNodes[i-1];if(!a)break;if(3==a.nodeType){n.collapse(a,a.nodeValue.length);break}r=a,i=-1}e.composing=!0}ut(e,ht)},Ze.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,ut(e,20))};var vt=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function gt(e,t,o,n){var i=Ie(e,t,o,e.shiftKey,e.state.selection.$from);if(e.someProp(\"handlePaste\",(function(t){return t(e,n,i||r.Slice.empty)})))return!0;if(!i)return!1;var s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),a=s?e.state.tr.replaceSelectionWith(s,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta(\"paste\",!0).setMeta(\"uiEvent\",\"paste\")),!0}Ye.copy=Ze.cut=function(e,t){var o=e.state.selection,n=\"cut\"==t.type;if(!o.empty){var r=vt?null:t.clipboardData,i=Le(e,o.content()),s=i.dom,a=i.text;r?(t.preventDefault(),r.clearData(),r.setData(\"text/html\",s.innerHTML),r.setData(\"text/plain\",a)):function(e,t){if(e.dom.parentNode){var o=e.dom.parentNode.appendChild(document.createElement(\"div\"));o.appendChild(t),o.style.cssText=\"position: fixed; left: -10000px; top: 10px\";var n=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout((function(){o.parentNode&&o.parentNode.removeChild(o),e.focus()}),50)}}(e,s),n&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta(\"uiEvent\",\"cut\"))}},Ze.paste=function(e,t){var o=vt?null:t.clipboardData;o&&gt(e,o.getData(\"text/plain\"),o.getData(\"text/html\"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var o=e.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(o?\"textarea\":\"div\"));o||(n.contentEditable=\"true\"),n.style.cssText=\"position: fixed; left: -10000px; top: 10px\",n.focus(),setTimeout((function(){e.focus(),n.parentNode&&n.parentNode.removeChild(n),o?gt(e,n.value,null,t):gt(e,n.textContent,n.innerHTML,t)}),50)}}(e,t)};var yt=function(e,t){this.slice=e,this.move=t},bt=s.mac?\"altKey\":\"ctrlKey\";for(var wt in Ye.dragstart=function(e,t){var o=e.mouseDown;if(o&&o.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(ot(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof n.NodeSelection?r.to-1:r.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(n.NodeSelection.create(e.state.doc,o.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var s=e.docView.nearestDesc(t.target,!0);if(!s||!s.node.type.spec.draggable||s==e.docView)return;e.dispatch(e.state.tr.setSelection(n.NodeSelection.create(e.state.doc,s.posBefore)))}var a=e.state.selection.content(),c=Le(e,a),l=c.dom,d=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(vt?\"Text\":\"text/html\",l.innerHTML),vt||t.dataTransfer.setData(\"text/plain\",d),e.dragging=new yt(a,!t[bt])}},Ye.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Ze.dragover=Ze.dragenter=function(e,t){return t.preventDefault()},Ze.drop=function(e,t){var o=e.dragging;if(e.dragging=null,t.dataTransfer){var s=e.posAtCoords(ot(t));if(s){var a=e.state.doc.resolve(s.pos);if(a){var c=o&&o.slice||Ie(e,t.dataTransfer.getData(vt?\"Text\":\"text/plain\"),vt?null:t.dataTransfer.getData(\"text/html\"),!1,a),l=o&&!t[bt];if(e.someProp(\"handleDrop\",(function(o){return o(e,t,c||r.Slice.empty,l)})))t.preventDefault();else if(c){t.preventDefault();var d=c?Object(i.dropPoint)(e.state.doc,a.pos,c):a.pos;null==d&&(d=a.pos);var f=e.state.tr;l&&f.deleteSelection();var h=f.mapping.map(d),u=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,p=f.doc;if(u?f.replaceRangeWith(h,h,c.content.firstChild):f.replaceRange(h,h,c),!f.doc.eq(p)){var m=f.doc.resolve(h);if(u&&n.NodeSelection.isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))f.setSelection(new n.NodeSelection(m));else{var v=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((function(e,t,o,n){return v=n})),f.setSelection(we(e,m,f.doc.resolve(v)))}e.focus(),e.dispatch(f.setMeta(\"uiEvent\",\"drop\"))}}}}}},Ye.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add(\"ProseMirror-focused\"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ue(e)}),20))},Ye.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove(\"ProseMirror-focused\"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Ye.beforeinput=function(e,t){if(s.chrome&&s.android&&\"deleteContentBackward\"==t.inputType){var o=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==o&&(e.dom.blur(),e.focus(),!e.someProp(\"handleKeyDown\",(function(t){return t(e,O(8,\"Backspace\"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ze)Ye[wt]=Ze[wt];function St(e,t){if(e==t)return!0;for(var o in e)if(e[o]!==t[o])return!1;for(var n in t)if(!(n in e))return!1;return!0}var Ot=function(e,t){this.spec=t||kt,this.side=this.spec.side||0,this.toDOM=e};Ot.prototype.map=function(e,t,o,n){var r=e.mapResult(t.from+n,this.side<0?-1:1),i=r.pos;return r.deleted?null:new Ct(i-o,i-o,this)},Ot.prototype.valid=function(){return!0},Ot.prototype.eq=function(e){return this==e||e instanceof Ot&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&St(this.spec,e.spec))};var Dt=function(e,t){this.spec=t||kt,this.attrs=e};Dt.prototype.map=function(e,t,o,n){var r=e.map(t.from+n,this.spec.inclusiveStart?-1:1)-o,i=e.map(t.to+n,this.spec.inclusiveEnd?1:-1)-o;return r>=i?null:new Ct(r,i,this)},Dt.prototype.valid=function(e,t){return t.from<t.to},Dt.prototype.eq=function(e){return this==e||e instanceof Dt&&St(this.attrs,e.attrs)&&St(this.spec,e.spec)},Dt.is=function(e){return e.type instanceof Dt};var Nt=function(e,t){this.spec=t||kt,this.attrs=e};Nt.prototype.map=function(e,t,o,n){var r=e.mapResult(t.from+n,1);if(r.deleted)return null;var i=e.mapResult(t.to+n,-1);return i.deleted||i.pos<=r.pos?null:new Ct(r.pos-o,i.pos-o,this)},Nt.prototype.valid=function(e,t){var o=e.content.findIndex(t.from),n=o.index,r=o.offset;return r==t.from&&r+e.child(n).nodeSize==t.to},Nt.prototype.eq=function(e){return this==e||e instanceof Nt&&St(this.attrs,e.attrs)&&St(this.spec,e.spec)};var Ct=function(e,t,o){this.from=e,this.to=t,this.type=o},Mt={spec:{configurable:!0},inline:{configurable:!0}};Ct.prototype.copy=function(e,t){return new Ct(e,t,this.type)},Ct.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Ct.prototype.map=function(e,t,o){return this.type.map(e,this,t,o)},Ct.widget=function(e,t,o){return new Ct(e,e,new Ot(t,o))},Ct.inline=function(e,t,o,n){return new Ct(e,t,new Dt(o,n))},Ct.node=function(e,t,o,n){return new Ct(e,t,new Nt(o,n))},Mt.spec.get=function(){return this.type.spec},Mt.inline.get=function(){return this.type instanceof Dt},Object.defineProperties(Ct.prototype,Mt);var xt=[],kt={},Tt=function(e,t){this.local=e&&e.length?e:xt,this.children=t&&t.length?t:xt};Tt.create=function(e,t){return t.length?Bt(t,e,0,kt):At},Tt.prototype.find=function(e,t,o){var n=[];return this.findInner(null==e?0:e,null==t?1e9:t,n,0,o),n},Tt.prototype.findInner=function(e,t,o,n,r){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=t&&s.to>=e&&(!r||r(s.spec))&&o.push(s.copy(s.from+n,s.to+n))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,o,n+c,r)}},Tt.prototype.map=function(e,t,o){return this==At||0==e.maps.length?this:this.mapInner(e,t,0,0,o||kt)},Tt.prototype.mapInner=function(e,t,o,n,r){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(e,o,n);a&&a.type.valid(t,a)?(i||(i=[])).push(a):r.onRemove&&r.onRemove(this.local[s].spec)}return this.children.length?function(e,t,o,n,r,i,s){for(var a=e.slice(),c=function(e,t,o,n){for(var s=0;s<a.length;s+=3){var c=a[s+1],l=void 0;-1==c||e>c+i||(t>=a[s]+i?a[s+1]=-1:o>=r&&(l=n-o-(t-e))&&(a[s]+=l,a[s+1]+=l))}},l=0;l<o.maps.length;l++)o.maps[l].forEach(c);for(var d=!1,f=0;f<a.length;f+=3)if(-1==a[f+1]){var h=o.map(e[f]+i),u=h-r;if(u<0||u>=n.content.size){d=!0;continue}var p=o.map(e[f+1]+i,-1)-r,m=n.content.findIndex(u),v=m.index,g=m.offset,y=n.maybeChild(v);if(y&&g==u&&g+y.nodeSize==p){var b=a[f+2].mapInner(o,y,h+1,e[f]+i+1,s);b!=At?(a[f]=u,a[f+1]=p,a[f+2]=b):(a[f+1]=-2,d=!0)}else d=!0}if(d){var w=Bt(function(e,t,o,n,r,i,s){function a(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(n,r,t);c?o.push(c):s.onRemove&&s.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)a(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&a(e[c+2],t[c]+i+1);return o}(a,e,t||[],o,r,i,s),n,0,s);t=w.local;for(var S=0;S<a.length;S+=3)a[S+1]<0&&(a.splice(S,3),S-=3);for(var O=0,D=0;O<w.children.length;O+=3){for(var N=w.children[O];D<a.length&&a[D]<N;)D+=3;a.splice(D,0,w.children[O],w.children[O+1],w.children[O+2])}}return new Tt(t&&t.sort(zt),a)}(this.children,i,e,t,o,n,r):i?new Tt(i.sort(zt)):At},Tt.prototype.add=function(e,t){return t.length?this==At?Tt.create(e,t):this.addInner(e,t,0):this},Tt.prototype.addInner=function(e,t,o){var n,r=this,i=0;e.forEach((function(e,s){var a,c=s+o;if(a=Vt(t,e,c)){for(n||(n=r.children.slice());i<n.length&&n[i]<s;)i+=3;n[i]==s?n[i+2]=n[i+2].addInner(e,a,c+1):n.splice(i,0,s,s+e.nodeSize,Bt(a,e,c+1,kt)),i+=3}}));for(var s=Et(i?Rt(t):t,-o),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Tt(s.length?this.local.concat(s).sort(zt):this.local,n||this.children)},Tt.prototype.remove=function(e){return 0==e.length||this==At?this:this.removeInner(e,0)},Tt.prototype.removeInner=function(e,t){for(var o=this.children,n=this.local,r=0;r<o.length;r+=3){for(var i=void 0,s=o[r]+t,a=o[r+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>s&&l.to<a&&(e[c]=null,(i||(i=[])).push(l));if(i){o==this.children&&(o=this.children.slice());var d=o[r+2].removeInner(i,s+1);d!=At?o[r+2]=d:(o.splice(r,3),r-=3)}}if(n.length)for(var f=0,h=void 0;f<e.length;f++)if(h=e[f])for(var u=0;u<n.length;u++)n[u].eq(h,t)&&(n==this.local&&(n=this.local.slice()),n.splice(u--,1));return o==this.children&&n==this.local?this:n.length||o.length?new Tt(n,o):At},Tt.prototype.forChild=function(e,t){if(this==At)return this;if(t.isLeaf)return Tt.empty;for(var o,n,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(o=this.children[r+2]);break}for(var i=e+1,s=i+t.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof Dt){var l=Math.max(i,c.from)-i,d=Math.min(s,c.to)-i;l<d&&(n||(n=[])).push(c.copy(l,d))}}if(n){var f=new Tt(n.sort(zt));return o?new Pt([f,o]):f}return o||At},Tt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var o=0;o<this.children.length;o+=3)if(this.children[o]!=e.children[o]||this.children[o+1]!=e.children[o+1]||!this.children[o+2].eq(e.children[o+2]))return!1;return!0},Tt.prototype.locals=function(e){return _t(this.localsInner(e))},Tt.prototype.localsInner=function(e){if(this==At)return xt;if(e.inlineContent||!this.local.some(Dt.is))return this.local;for(var t=[],o=0;o<this.local.length;o++)this.local[o].type instanceof Dt||t.push(this.local[o]);return t};var At=new Tt;Tt.empty=At,Tt.removeOverlap=_t;var Pt=function(e){this.members=e};function Et(e,t){if(!t||!e.length)return e;for(var o=[],n=0;n<e.length;n++){var r=e[n];o.push(new Ct(r.from+t,r.to+t,r.type))}return o}function Vt(e,t,o){if(t.isLeaf)return null;for(var n=o+t.nodeSize,r=null,i=0,s=void 0;i<e.length;i++)(s=e[i])&&s.from>o&&s.to<n&&((r||(r=[])).push(s),e[i]=null);return r}function Rt(e){for(var t=[],o=0;o<e.length;o++)null!=e[o]&&t.push(e[o]);return t}function Bt(e,t,o,n){var r=[],i=!1;t.forEach((function(t,s){var a=Vt(e,t,s+o);if(a){i=!0;var c=Bt(a,t,o+s+1,n);c!=At&&r.push(s,s+t.nodeSize,c)}}));for(var s=Et(i?Rt(e):e,-o).sort(zt),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Tt(s,r):At}function zt(e,t){return e.from-t.from||e.to-t.to}function _t(e){for(var t=e,o=0;o<t.length-1;o++){var n=t[o];if(n.from!=n.to)for(var r=o+1;r<t.length;r++){var i=t[r];if(i.from!=n.from){i.from<n.to&&(t==e&&(t=e.slice()),t[o]=n.copy(n.from,i.from),Ft(t,r,n.copy(i.from,n.to)));break}i.to!=n.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,n.to),Ft(t,r+1,i.copy(n.to,i.to)))}}return t}function Ft(e,t,o){for(;t<e.length&&zt(o,e[t])>0;)t++;e.splice(t,0,o)}function Lt(e){var t=[];return e.someProp(\"decorations\",(function(o){var n=o(e.state);n&&n!=At&&t.push(n)})),e.cursorWrapper&&t.push(Tt.create(e.state.doc,[e.cursorWrapper.deco])),Pt.from(t)}Pt.prototype.forChild=function(e,t){if(t.isLeaf)return Tt.empty;for(var o=[],n=0;n<this.members.length;n++){var r=this.members[n].forChild(e,t);r!=At&&(r instanceof Pt?o=o.concat(r.members):o.push(r))}return Pt.from(o)},Pt.prototype.eq=function(e){if(!(e instanceof Pt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Pt.prototype.locals=function(e){for(var t,o=!0,n=0;n<this.members.length;n++){var r=this.members[n].localsInner(e);if(r.length)if(t){o&&(t=t.slice(),o=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?_t(o?t:t.sort(zt)):xt},Pt.from=function(e){switch(e.length){case 0:return At;case 1:return e[0];default:return new Pt(e)}};var It=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement(\"div\"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Wt(this),this.markCursor=null,this.cursorWrapper=null,$t(this),this.nodeViews=jt(this),this.docView=Y(this.state.doc,qt(this),Lt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:\"\"},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Je(e,(function(t,o,n,r){return ze(e,t,o,n,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var o=Ye[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var o=t.target;o!=e.dom;o=o.parentNode)if(!o||11==o.nodeType||o.pmViewDesc&&o.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||tt(e,t)||!e.editable&&t.type in Ze||o(e,t)})};for(var o in Ye)t(o);s.safari&&e.dom.addEventListener(\"input\",(function(){return null})),et(e)}(this),this.pluginViews=[],this.updatePluginViews()},Kt={props:{configurable:!0},root:{configurable:!0}};function qt(e){var t=Object.create(null);return t.class=\"ProseMirror\",t.contenteditable=String(e.editable),e.someProp(\"attributes\",(function(o){if(\"function\"==typeof o&&(o=o(e.state)),o)for(var n in o)\"class\"==n?t.class+=\" \"+o[n]:t[n]||\"contenteditable\"==n||\"nodeName\"==n||(t[n]=String(o[n]))})),[Ct.node(0,e.state.doc.content.size,t)]}function $t(e){if(e.markCursor){var t=document.createElement(\"img\");t.setAttribute(\"mark-placeholder\",\"true\"),e.cursorWrapper={dom:t,deco:Ct.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Wt(e){return!e.someProp(\"editable\",(function(t){return!1===t(e.state)}))}function jt(e){var t={};return e.someProp(\"nodeViews\",(function(e){for(var o in e)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=e[o])})),t}Kt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},It.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&et(this),this._props=e,this.updateStateInner(e.state,!0)},It.prototype.setProps=function(e){var t={};for(var o in this._props)t[o]=this._props[o];for(var n in t.state=this.state,e)t[n]=e[n];this.update(t)},It.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},It.prototype.updateStateInner=function(e,t){var o=this,r=this.state,i=!1,a=!1;if(e.storedMarks&&this.composing&&(pt(this),a=!0),this.state=e,t){var c=jt(this);(function(e,t){var o=0,n=0;for(var r in e){if(e[r]!=t[r])return!0;o++}for(var i in t)n++;return o!=n})(c,this.nodeViews)&&(this.nodeViews=c,i=!0),et(this)}this.editable=Wt(this),$t(this);var l=Lt(this),d=qt(this),f=t?\"reset\":e.scrollToSelection>r.scrollToSelection?\"to selection\":\"preserve\",h=i||!this.docView.matchesNode(e.doc,d,l);!h&&e.selection.eq(r.selection)||(a=!0);var u,p,m,g,y,b,w,S,O,D,N,C=\"preserve\"==f&&a&&null==this.dom.style.overflowAnchor&&function(e){for(var t,o,n=e.dom.getBoundingClientRect(),r=Math.max(0,n.top),i=(n.left+n.right)/2,s=r+1;s<Math.min(innerHeight,n.bottom);s+=5){var a=e.root.elementFromPoint(i,s);if(a!=e.dom&&e.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=r-20){t=a,o=c.top;break}}}return{refDOM:t,refTop:o,stack:x(e.dom)}}(this);if(a){this.domObserver.stop();var T=h&&(s.ie||s.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(g=r.selection,y=e.selection,b=Math.min(g.$anchor.sharedDepth(g.head),y.$anchor.sharedDepth(y.head)),g.$anchor.start(b)!=y.$anchor.start(b));if(h){var A=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,d,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Y(e.doc,d,l,this.dom,this)),A&&!this.trackWrites&&(T=!0)}T||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(u=this,p=u.docView.domFromPos(u.state.selection.anchor,0),m=u.root.getSelection(),v(p.node,p.offset,m.anchorNode,m.anchorOffset)))?ue(this,T):(ye(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),\"reset\"==f)this.dom.scrollTop=0;else if(\"to selection\"==f){var P=this.root.getSelection().focusNode;this.someProp(\"handleScrollToSelection\",(function(e){return e(o)}))||(e.selection instanceof n.NodeSelection?M(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),P):M(this,this.coordsAtPos(e.selection.head,1),P))}else C&&(S=(w=C).refDOM,O=w.refTop,D=w.stack,N=S?S.getBoundingClientRect().top:0,k(D,0==N?0:N-O))},It.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},It.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var o=this.pluginViews[t];o.update&&o.update(this,e)}else{this.destroyPluginViews();for(var n=0;n<this.state.plugins.length;n++){var r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},It.prototype.someProp=function(e,t){var o,n=this._props&&this._props[e];if(null!=n&&(o=t?t(n):n))return o;var r=this.state.plugins;if(r)for(var i=0;i<r.length;i++){var s=r[i].props[e];if(null!=s&&(o=t?t(s):s))return o}},It.prototype.hasFocus=function(){return this.root.activeElement==this.dom},It.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(T)return e.focus(T);var t=x(e);e.focus(null==T?{get preventScroll(){return T={preventScroll:!0},!0}}:void 0),T||(T=!1,k(t,0))}(this.dom),ue(this),this.domObserver.start()},Kt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},It.prototype.posAtCoords=function(e){return E(this,e)},It.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),B(this,e,t)},It.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},It.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},It.prototype.posAtDOM=function(e,t,o){void 0===o&&(o=-1);var n=this.docView.posFromDOM(e,t,o);if(null==n)throw new RangeError(\"DOM position not inside the editor\");return n},It.prototype.endOfTextblock=function(e,t){return $(this,t||this.state,e)},It.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Lt(this),this),this.dom.textContent=\"\"):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},It.prototype.dispatchEvent=function(e){return function(e,t){tt(e,t)||!Ye[t.type]||!e.editable&&t.type in Ze||Ye[t.type](e,t)}(this,e)},It.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(It.prototype,Kt)}}]);","extractedComments":[]}